# Chucho Bot 

## Requerimientos

Para poder ejecutar la aplicaci贸n es necesario:

- Windows
- Microsoft .Net Framework 4.7.2
- Acceso a Primary API provisto por ALyC (Matriz)

> Nota: No funciona en iOS, MacOS, Android o Linux.

## 驴C贸mo puedo ejecutar la aplicaci贸n?

Los releases se encuentran en la secci贸n `Releases`

- Ir a la secci贸n [Releases](https://github.com/ChuchoCoder/chuchobot/releases)
- Descargar el archivo zip (Ejemplo: `ChuchoBot2023-10-06.zip`)
- Descomprimir en una carpeta
- Ejecutar `ChuchoBot.exe`

## 驴Cu谩l es la Primary API Base URL de mi ALyC?

En la ventana de **Primary Login**, reemplazar la `Primary API Basi URL` por la provista por ALyC. **Ejemplo**: Si ten茅s **Bull Market Brokers** usa `https://api.bull.xoms.com.ar`

![Login](docs/screenshots/Login.png)

- **Cocos Capital (requiere plan ゥ Cocos Pro)**: ```https://api.cocos.xoms.com.ar```
- **Eco Valores**: `https://api.eco.xoms.com.ar`
- **Veta Capital**: `https://api.veta.xoms.com.ar`
- **Bull Market Brokers**: `https://api.bull.xoms.com.ar`
- **Cohen**: `https://api.cohen.xoms.com.ar`
- **Adcap**: `https://api.adcap.xoms.com.ar`
- **BCCH**: `https://api.bcch.xoms.com.ar`

> Listado de agentes ofrecen acceso a Matriz: [https://www.matbarofex.com.ar/agentes-dma](https://www.matbarofex.com.ar/agentes-dma)

### 驴C煤al es mi usuario y contrase帽a para hacer Login?

El usuario y contrase帽a a utilizar es el mismo que se utiliza para ingresar en Matriz.

## 驴C贸mo configuro los Derechos de Mercado para los distintos instrumentos?

La aplicaci贸n tiene configurado algunos instrumentos (no todos) que son utilizados para calcular autom谩ticamente los Derechos de Mercado:

- **Acciones y CEDEARs 0,08%** (Instrumentos en setting `AccionesCEDEARs`)
- **Letras 0,001%** (Instrumentos en setting `Letras`)
- **Bonos 0,01%** (resto de instrumentos)

Adem谩s de los derechos de mercado, la comisi贸n configurada por cada operaci贸n es de 0,10% (por defecto). Este porcentaje puede modificarse en la ventana de Arbitrajes de Plazos

**Derechos de Mercado BYMA**: https://www.byma.com.ar/wp-content/uploads/dlm_uploads/2019/11/BYMA-Derechos-Mercado-sobre-Operaciones-2022-12-01.pdf

## 驴C贸mo configuro la comisi贸n de cauci贸n tomadora y colocadora?

La aplicaci贸n tiene configurado valores arbitrarios para la comisi贸n que cobra el broker al momento de colocar o tomar cauci贸n. 

Para obtener un P&L correcto, es necesario configurar estos valores en los campos `Comisi贸n Tomadora (TNA)` y `Comisi贸n Colocadora (TNA)`. Estos valores se configuran en la ventana del scanner de arbitrajes de plazos

## 驴C贸mo agregar/eliminar instrumentos a monitorear?

1. Ir a `Configuraci贸n` => `Instrumentos a monitorear`

    ![Configuracion](docs/screenshots/Configuracion.png)

2. Agregar o quitar instrumentos a la lista (1 instrumento por linea). **Ejemplo**: Agregar `GGAL` para monitorear la acci贸n de Galicia.

    ![Instrumentos a Monitorear](docs/screenshots/InstrumentosMonitorear.png)

## 驴Puedo utilizar la aplicaci贸n si no tengo acceso a Matriz?

No, la aplicaci贸n necesita tener acceso a Primary API (Matriz).

## Scanner de arbitraje de plazos de liquidaci贸n

El scanner de arbitraje de plazos permite detectar oportunidades para arbitrar plazos de distintos activos.

Opciones:

- **Ver s贸lo arbitrajes de seg煤n instrumentos en cartera**: Muestra s贸lo los arbitrajes que son posibles evaluando los instrumentos que se tienen en cartera.
- **Ver s贸lo arbitrajes con profit**: Muestra s贸lo los arbitrajes donde la ganancia (columna P&L) sea positiva

![Scanner de arbitraje de plazos](docs/screenshots/ArbitrajePlazos.png)

Haciendo doble clic en cualquier de las filas de la grilla se accede una ventana con el detalle del arbitraje. En dicha ventana se pueden cambiar los nominales, precios de compra/venta y comisi贸n para poder obtener un c谩lculo aproximado de la ganancia/p茅rdida que se obtendr铆a.

![Scanner de arbitraje de plazos detalle](docs/screenshots/ArbitrajePlazoDetail.png)

### Operatoria cuando el plazo de la Venta es menor al de Compra (requiere t铆tulos en cartera)

Cuando el plazo de liquidaci贸n de la `1 Venta` es menor al de `2 Compra` es necesario contar con los t铆tulos en cartera (Ejemplo: `1 Venta NVDA - CI` / `2 Compra NVDA - 24hs`).

La operaci贸n consiste en realizar las siguientes operaciones:

1. **Vender** el t铆tulo en el plazo visualizado `CI`
2. **Comprar** el t铆tulo en el plazo visualizado `24hs`
3. **Colocar** en cauci贸n el resultado de la venta del paso **1**

### Operatoria cuando el plazo de la Venta es mayor al de Compra

Cuando el plazo de liquidaci贸n de la `1 Venta` es mayor al de `2 Compra` ser谩 necesario contar con el dinero o poder tomar cauci贸n para cubrir el descubierto de lo comprado (Ejemplo: `1 Venta SPY - 24hs` / `2 Compra SPY - CI`).

La operaci贸n consiste en realizar las siguientes operaciones:

1. **Comprar** el t铆tulo en el plazo visualizado `CI`
2. **Vender** el t铆tulo en el plazo visualizado `24hs`
3. **Tomar** cauci贸n por el total de la compra del paso **1**

### 驴C贸mo puedo abrir la ventana de arbitraje de plazos de liquidaci贸n para un instrumento determinado?

Es posible abrir la ventana de arbitraje para un determinado instrumento y plazos de liquidaci贸n haciendo click en el menu `Arbitrajes de Plazos` > `Seleccionar intrumento y Plazos`.

En esta ventana es necesario seleccionar:
1. Instrumento
2. Plazo de liquidaci贸n de compra
3. Plazo de liquidaci贸n de venta

![Abrir arbitraje de plazos para un instrumento](docs/screenshots/ArbitrajePlazosLauncher.png)

## Operatoria Rotaci贸n de Activos (Ratio)

La rotaci贸n de activos consiste en **vender el caro** y **comprar el activo barato**. Ejemplo: Vender GD30 y comprar AL30 o viceversa.

### 驴C贸mo sabemos cuando un activo est谩 m谩s caro o barato que el otro?

Para poder determinar cuando un activo est谩 caro o barato en comparaci贸n a otro podemos visualizar la relaci贸n (ratio) de los mismos a lo largo del tiempo. Esta relaci贸n es surge simplemente dividiendo Activo 1/Activo 2. 

Es imposible estar seguros de que un activo est谩 m谩s barato o caro que el otro, solo podemos suponer o asumir sobre esto mirando dicha relaci贸n.

### 驴C贸mo puedo visualizar la relaci贸n (ratio) entre 2 activos?

En TradingView esto se puede lograr utilizando el Indicador Ratio. Ejemplo: 
1. Ingresamos al grafico de **GD30**
2. Click en **Indicadores** 
3. Click **Ratio**
4. Ingresamos **AL30** y click en el bot贸n **Aplicar**

### 驴C贸mo es la operatoria de rotaci贸n de activo (ratio)?

La operatoria de rotaci贸n de activo (ratio) consiste en:
1. Comprar el activo "barato"
2. Vender el activo "caro" por el mismo monto total

Ejemplo:
- El precio de GD30 es $60.000 y el de AL30 es $55.000, el ratio de GD30/AL30 es de 9,09% y nuestra hipotesis es que AL30 esta m谩s barato que GD30 (es decir, AL30 tendr铆a que subir m谩s o bajar menos que GD30)
- Abrimos posici贸n:
  - Compramos 10.909 nominales de AL30 (Total -$5.999.950)
  - Vendemos 10.000 nominales de GD30 (Total +$6.000.000)
    - **Importante**: No vendemos la misma cantidad de nominales, vendemos los nominales en funci贸n al ratio. Es decir, utilizamos el mismo monto total del activo que compramos del que vendemos.
- Pasa el tiempo y el precio de GD30 es $59.000 y el de AL30 es de $54.500, lo que ahora da un ratiode GD30/AL30 de 8,25%
- Cerramos posici贸n:
  - Vendemos 10.909 nominales de AL30 (Total +$5.945.405)
  - Compramos 10.000 nominales de GD30 (Total -$5.900.000)
  - Obtuvimos una ganancia de $45.405

> IMPORTANTE: Para simplificar la operatoria y c{alculo no se incluyeron comisiones ni derechos de mercado.

## Scanner para comprar/vender dolar MEP y CCL

La aplicaci贸n permite visualizar en tiempo real en que instrumentos conviene Comprar o Vender dolar MEP/CCL.

Es posible abrir abrir la ventana de dolar MEP/CCL para Compra/Venta haciendo click en el men煤 `Dolar`:
- 

### Dolar MEP

![Scanner de Dolar MEP](docs/screenshots/DolarMEP.png)

### Dolar CCL

![Scanner de Dolar CCL](docs/screenshots/DolarCCL.png)

## Preguntas frecuentes

### 驴Qu茅 es el arbitraje de plazos de liquidaci贸n?

Video: [https://www.youtube.com/watch?v=i0xQ3_KqdHI](https://www.youtube.com/watch?v=i0xQ3_KqdHI)

### 驴Por qu茅 aparece el icono de WiFi rojo y el texto "DISCONNECTED"?

Cuando la aplicaci贸n deja de recibir datos por WebSocket, el icono de WiFi pasa de verde a rojo para avisar que puede existir alg煤n problema con la conexi贸n. Esto tambi茅n ocurre antes de la apertura y luego de la finalizaci贸n de la rueda.

![Disconnected](docs/screenshots/Disconnected.png)

Si esto ocurre mientras el mercado est谩 abierto, se recomienda cerrar la apliaci贸n y volver a ejecutarla.

### 驴La aplicaci贸n recibe datos en tiempo real?

S铆, la aplicaci贸n se conecta por WebSocket a Primary API y la misma recibe los datos de los instrumentos en tiempo real.

### 驴La aplicaci贸n env铆a alguna orden de compra o venta?

No, la aplicaci贸n no emite o env铆a ninguna orden de compra y venta al mercado. Solamente permite visualizar las oportunidades de arbitraje que existen en tiempo real.

### 驴C贸mo puedo configurar el instrumento D o C?

Existen instrumentos donde el ticker para `D` y `C` no sigue la convenci贸n `{Ticker}D` o `{Ticker}C`. Por ejemplo: Para la letra del tesoro `X20Y4` el ticker para `D` (dolar MEP) es `XY4D` y para `C` es `XY4C`.

Estas excepciones se pueden configurar haciendo click en el men煤 `Configuraci贸n` > `Excepciones de instrumentos $;D;C`.

Ingresar la excepci贸n separando con `;` cada ticker usando el formato **`{Ticker $ Pesos};{Ticker D MEP};{Ticker C CCL}`**. 

Ejemplo: `X20Y4;XY4D;XY4D`


### 驴C贸mo deshabilito la Telemetr铆a?

Para deshabilitar la telemetr铆a de la aplicaci贸n:

1. Editar el archivo de configuraci贸n `ChuchoBot.exe.config`
2. Eliminar secci贸n de `<connectionStrings>...</connectionStrings>``

```xml
  <connectionStrings>
    <add name="Primary.WinFormsApp.Properties.Settings.AppInsightsConnectionString"
      connectionString="..." />
  </connectionStrings>
```